# ============================================
# BackApp Production Environment Configuration
# ============================================
#
# IMPORTANT: Copy this file to .env.production and fill in your values
# Command: cp .env.production.example .env.production
#
# Security: Never commit .env.production to version control!
#

# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://backapp:CHANGE_THIS_PASSWORD@localhost:5432/backapp"

# ============================================
# Application Configuration
# ============================================
NODE_ENV="production"
APP_PORT="3000"

# Public URL where your app is accessible
NEXTAUTH_URL="https://backapp.davidhsells.today"

# Secret key for NextAuth.js session encryption
# Generate with: openssl rand -base64 32
# REQUIRED: Must be a strong random string (32+ characters)
NEXTAUTH_SECRET="GENERATE_WITH_OPENSSL_RAND_BASE64_32"

# ============================================
# AWS S3 Configuration
# ============================================
# AWS credentials for S3 access
# Create an IAM user with S3 access and generate access keys
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="YOUR_AWS_ACCESS_KEY_ID"
AWS_SECRET_ACCESS_KEY="YOUR_AWS_SECRET_ACCESS_KEY"

# S3 bucket name where backups will be stored
# Bucket must exist before deployment
AWS_S3_BUCKET="your-backup-bucket-name"

# ============================================
# Email/SMTP Configuration (for alerts)
# ============================================
# SMTP server for sending email notifications
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_SECURE="true"

# Gmail: Use app-specific password (not your main password)
# Generate at: https://myaccount.google.com/apppasswords
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-gmail-app-password"

# "From" address for outgoing emails
SMTP_FROM="BackApp <noreply@davidhsells.today>"

# ============================================
# Optional: Logging Configuration
# ============================================
# Log level: error, warn, info, debug
LOG_LEVEL="info"

# Enable application metrics collection
ENABLE_METRICS="true"

# ============================================
# Optional: Advanced Configuration
# ============================================
# Maximum file upload size (in bytes)
# Default: 5GB
# MAX_UPLOAD_SIZE="5368709120"

# Backup retry attempts on failure
# BACKUP_RETRY_ATTEMPTS="3"

# Backup timeout in minutes
# BACKUP_TIMEOUT_MINUTES="60"

# Maximum concurrent backups
# MAX_CONCURRENT_BACKUPS="5"

# ============================================
# Security Notes
# ============================================
# 1. DATABASE_URL: Use a strong password (16+ chars, mixed case, numbers, symbols)
# 2. NEXTAUTH_SECRET: Must be random and secret (generate with openssl)
# 3. AWS credentials: Use IAM user with minimal required permissions (S3 only)
# 4. SMTP_PASSWORD: Use app-specific password, not your main email password
# 5. Never commit this file to version control!
# 6. Restrict file permissions: chmod 600 .env.production

# ============================================
# Verification Checklist
# ============================================
# Before deploying, verify:
# [ ] DATABASE_URL has correct host, port, database name, and strong password
# [ ] NEXTAUTH_SECRET is generated (32+ characters)
# [ ] NEXTAUTH_URL matches your actual domain
# [ ] AWS credentials are valid and have S3 access
# [ ] S3 bucket exists and is accessible
# [ ] SMTP credentials are correct (test with: npm run test-email)
# [ ] All placeholder values replaced
